# **Booking System**  
Веб-приложение для управления объявлениями о недвижимости, бронирования и отзывов. Построено на Django REST Framework.

---

## **Функционал**
### 1. **Управление объявлениями**
- Создание объявления с заголовком, описанием, адресом, ценой, количеством комнат, типом жилья.  
- Редактирование и удаление собственных объявлений.  
- Переключение статуса объявления (активно/неактивно).

### 2. **Поиск и фильтрация**
- Поиск по ключевым словам в заголовке и описании.  
- Фильтрация:
  - По цене (min/max)
  - По городу (местоположение)
  - По количеству комнат
  - По типу жилья  
- Сортировка:
  - По цене
  - По дате добавления
  - По популярности (по количеству отзывов)

### 3. **Аутентификация и авторизация**
- Регистрация и вход пользователя.  
- Разделение ролей:
  - **Арендатор**: просмотр и бронирование объявлений.  
  - **Арендодатель**: создание, редактирование и удаление объявлений.  
- JWT-аутентификация (SimpleJWT).

### 4. **Бронирования**
- Создание бронирования с указанием дат.  
- Просмотр активных и завершённых бронирований.  
- Отмена бронирования до определённой даты.  
- Подтверждение/отклонение бронирования арендодателем.

### 5. **Рейтинги и отзывы**
- Возможность оставить отзыв и рейтинг по завершённому бронированию.  
- Просмотр всех отзывов по объявлению.  

---

## **Технологический стек**
- **Backend:** Django 4.2, Django REST Framework  
- **Аутентификация:** SimpleJWT  
- **База данных:** MySQL  
- **Фильтрация и поиск:** django-filter, SearchFilter, OrderingFilter  
- **Переменные окружения:** django-environ

---

## **Установка и запуск**
1. Клонировать репозиторий:
   ```bash
   git clone <repo-url>
   cd Final_project_Booking_system
   ```

2. Создать виртуальное окружение:  
   ```bash
    python -m venv .venv
    source .venv/bin/activate     
   ```
3. Установить зависимости  
   ```bash
    pip install -r requirements.txt
    pip freeze > requirements.txt
   ```
4. Настроить .env:  
   ```bash
   ...
    SECRET_KEY=your_secret_key
    DEBUG=True
    DATABASE_URL=sqlite:///db.sqlite3
   ...
   ```
5. Применить миграции:  
   ```bash
   python manage.py makemigrations 
   python manage.py runserver
   ```
6. Запустить сервер:
   ```bash
   python manage.py runserver
   ```

## **Структура проекта**
   ```bash
      Final_project_Booking_system/
      config/               # Настройки проекта (urls, settings)
      apps/
        announcements/      # Модели, сериализаторы и viewset объявлений
        bookings/           # Модели и логика бронирований
        reviews/            # Модели и API отзывов
        users/              # Кастомная модель пользователя
      manage.py
      .env
      .gitignore
      requirements.txt
      .venv
   ```
## **Основные эндпоинты API**  
#### Аутентификация:
- POST /api/users/register/ — получение JWT-токена
- POST /api/users/token/refresh/ — обновление токена

#### Объявления:
- GET /api/announcements/ — список объявлений (поиск/фильтр/сортировка)
- POST /api/announcements/ — создать объявление
- PATCH /api/announcements/{id}/toggle_status/ — изменить статус объявления

#### Бронирования:
- POST /api/bookings/ — создать бронирование
- GET /api/bookings/ — список бронирований

#### Отзывы:
- POST /api/reviews/ — оставить отзыв
- GET /api/review/{id} — отзывы по букингу

